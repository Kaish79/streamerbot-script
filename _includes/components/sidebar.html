{%- comment -%}
  Include as: {%- include components/sidebar.html -%}
  Depends on: page(?), site.
  Results in: HTML for the side bar.
  Includes:
    title.html, components/site_nav.html, nav_footer_custom.html
  Overwrites:
    nav_footer_custom.
  Should not be cached, because nav_footer_custom.html might depend on page.
{%- endcomment -%}

<div class="side-bar">
  <div class="site-header" role="banner">
    <a href="{{ '/' | relative_url }}" class="site-title lh-tight">{% include title.html %}</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <!-- Include the site navigation (this will be the standard site navigation) -->
  {% include_cached components/site_nav.html %}

  <!-- Add custom navigation with icons -->
  <ul class="sidebar-nav">
    {% for page in site.pages %}
      {% if page.title %}
        <li>
          <a href="{{ page.url }}">
            <!-- Dynamically add icons based on page title -->
            {% if page.title == "Quick Maths" %}
              <span class="iconify" data-icon="mdi:calculator" data-inline="false"></span>
            {% elsif page.title == "Another Page" %}
              <span class="iconify" data-icon="mdi:pencil" data-inline="false"></span>
            {% elsif page.title == "About" %}
              <span class="iconify" data-icon="mdi:information" data-inline="false"></span>
            {% endif %}
            {{ page.title }}
          </a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>

  {% capture nav_footer_custom %}
    {%- include nav_footer_custom.html -%}
  {% endcapture %}
  {% if nav_footer_custom != "" %}
    {{ nav_footer_custom }}
  {% else %}
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  {% endif %}
</div>
